{"mappings":"AAAA,IAAMA,oBAAsBC,SAASC,cAAc,0BAC7CC,oBAAsBF,SAASC,cAAc,0BAC7CE,WAAaH,SAASC,cAAc,gBACpCG,cAAgBJ,SAASC,cAAc,mBACvCI,mBAAqBL,SAASC,cAAc,0BAC5CK,WAAaN,SAASC,cAAc,gBACpCM,MAAQP,SAASC,cAAc,UAC/BO,gBAAkBR,SAASC,cAAc,sBACzCQ,cAAgBT,SAASC,cAAc,oBACvCS,kBAAoBC,OAAOC,WAAW,qBACtCC,oBAAsBF,OAAOC,WAAW,qBACxCE,oBAAsBH,OAAOC,WAAW,gCACxCG,SAAWf,SAASC,cAAc,cAClCe,eAAiBhB,SAASC,cAAc,qBACxCgB,SAAWjB,SAASC,cAAc,cAExCiB,OAAOC,aAAa,KAAM,CACtBC,aAAe,CACXC,OAAQ,QACRC,KAAQ,SACRC,EAAK,gBACLC,GAAK,MACLC,EAAI,WACJC,GAAI,MACJC,EAAI,UACJC,GAAI,MACJC,EAAI,QACJC,GAAI,MACJC,EAAI,SACJC,GAAI,MACJC,EAAI,UACJC,GAAI,OACJC,EAAI,SACJC,GAAI,SAIZrC,oBAAoBsC,iBAAiB,SAAS,WAE5B,UADArC,SAASsC,gBAAgBC,aAAa,oBAEhDvC,SAASsC,gBAAgBE,aAAa,kBAAmB,QACzDC,aAAaC,QAAQ,aAAc,QACnC3C,oBAAoB4C,UAAUC,IAAI,UAElC5C,SAASsC,gBAAgBE,aAAa,kBAAmB,SACzDC,aAAaC,QAAQ,aAAc,SACnC3C,oBAAoB4C,UAAUE,OAAO,YAI7C/B,oBAAoBuB,iBAAiB,UAAU,SAAAS,GACvCA,EAAGC,SACH/C,SAASsC,gBAAgBE,aAAa,kBAAmB,QACzDzC,oBAAoB4C,UAAUC,IAAI,UAElC5C,SAASsC,gBAAgBE,aAAa,kBAAmB,SACzDzC,oBAAoB4C,UAAUE,OAAO,YAI7C9C,oBAAoBsC,iBAAiB,cAAc,WAC9CnC,oBAAoB8C,MAAMC,gBAAkB,aAGjDlD,oBAAoBsC,iBAAiB,cAAc,WAC/CnC,oBAAoB8C,MAAMC,gBAAkB,aAGhDlD,oBAAoBsC,iBAAiB,SAAS,WAC1CnC,oBAAoB8C,MAAMC,gBAAkB,aAGhDlD,oBAAoBsC,iBAAiB,QAAQ,WACzCnC,oBAAoB8C,MAAMC,gBAAkB,aAGhDjC,eAAeqB,iBAAiB,SAAS,SAACS,GACtCI,YACI,SAAAC,GAEI,GADAA,EAASC,KAAKC,MAAK,SAACC,EAAGC,GAAM,OAAAA,EAAID,KAAGE,SAAQ,SAAAC,GAAO,OAAAC,OAAOD,MACtDN,EAASQ,OAAS3D,SAAS4D,iBAAiB,WAAWC,OAAQ,CAC/D7C,eAAe6B,SACf,IAAMiB,EAAoB9D,SAAS+D,cAAc,KACjDD,EAAkBE,YAAc,gCAChC/C,SAASgD,YAAYH,MAG7B9D,SAAS4D,iBAAiB,WAAWC,WAI7C,IAAMH,OAAS,SAAAQ,GACX,IAAOC,EAA6ED,EAA7EC,QAASC,EAAoEF,EAApEE,SAAUC,EAA0DH,EAA1DG,GAAIC,EAAsDJ,EAAtDI,SAAUC,EAA4CL,EAA5CK,KAAMC,EAAsCN,EAAtCM,eAAgBC,EAAsBP,EAAtBO,SAAUC,EAAYR,EAAZQ,SAGlEC,EAAa3E,SAAS+D,cAAc,WAC1CY,EAAWC,UAAY,OAGvB,IAAMC,EAAe7E,SAAS+D,cAAc,OAC5Cc,EAAaD,UAAY,aACzBC,EAAa7B,MAAMC,gBAAkBuB,EAGrC,IAAMM,EAAe9E,SAAS+D,cAAc,OAC5Ce,EAAatC,aAAa,MAAQ,GAAauC,OAAXC,QAAQ,KAAQD,OAALR,IAC/CO,EAAatC,aAAa,MAAQ,GAAUuC,OAARZ,EAAQ,UAC5CW,EAAatC,aAAa,cAAe,QAGzC,IAAMyC,EAAajF,SAAS+D,cAAc,QAC1CkB,EAAWL,UAAY,qBACvBK,EAAWjB,YAAe,GAAUe,OAARZ,EAAQ,SAGpCU,EAAaK,OAAOJ,EAAcG,GAGlC,IAAME,EAAanF,SAAS+D,cAAc,OAC1CoB,EAAWP,UAAY,gBAGvB,IAAMQ,EAAcpF,SAAS+D,cAAc,OAC3CqB,EAAYR,UAAY,kBAGxB,IAAMS,EAAcrF,SAAS+D,cAAc,OAC3CsB,EAAYT,UAAY,kBACxBS,EAAYrB,YAAc9C,OAAOwD,GAAUY,UAG3C,IAAMC,EAAUvF,SAAS+D,cAAc,OACvCwB,EAAQX,UAAY,aAGpB,IAAMY,EAAcxF,SAAS+D,cAAc,OAC3CyB,EAAYZ,UAAY,iBACxBY,EAAYxB,YAAcI,EAG1BgB,EAAYF,OAAOG,EAAaE,EAASC,GAGzC,IAAMC,EAAWzF,SAAS+D,cAAc,MACxC0B,EAASb,UAAY,cAGrB,IAAMc,EAAU1F,SAAS+D,cAAc,KACvC2B,EAAQd,UAAY,aACpBc,EAAQlD,aAAa,OAAS,mBAAqBuC,OAAHV,IAChDqB,EAAQ1B,YAAcS,EAGtBgB,EAASxB,YAAYyB,GAGrB,IAAMC,EAAa3F,SAAS+D,cAAc,OAC1C4B,EAAWf,UAAY,gBACvBe,EAAW3B,YAAcG,EAGzB,IAAMyB,EAAc5F,SAAS+D,cAAc,MAC3C6B,EAAYhB,UAAY,iBACxBgB,EAAY5B,YAAcM,EAG1Ba,EAAWD,OAAOE,EAAaK,EAAUE,EAAYC,GAGrDjB,EAAWO,OAAOL,EAAcM,GAGhCpE,SAASkD,YAAYU","sources":["src/js/dom.js"],"sourcesContent":["const themeswitcherToggle = document.querySelector(\".themeswitcher__toggle\");\r\nconst themeswitcherCircle = document.querySelector(\".themeswitcher__circle\");\r\nconst titleInput = document.querySelector(\".title_input\");\r\nconst labelFullTime = document.querySelector(\"label.full_time\");\r\nconst modalLabelFullTime = document.querySelector(\".modal label.full_time\");\r\nconst funnelIcon = document.querySelector(\".funnel_icon\");\r\nconst modal = document.querySelector(\".modal\");\r\nconst modalBackground = document.querySelector(\".modal__background\");\r\nconst searchbarForm = document.querySelector(\".searchbar__form\");\r\nconst desktopMediaQuery = window.matchMedia(\"(min-width: 90em)\");\r\nconst noDesktopMediaQuery = window.matchMedia(\"(max-width: 89em)\");\r\nconst darkThemeMediaQuery = window.matchMedia(\"(prefers-color-scheme: dark)\");\r\nconst cardList = document.querySelector(\".card_list\");\r\nconst loadMoreButton = document.querySelector('.load-more button');\r\nconst loadMore = document.querySelector('.load-more');\r\n\r\nmoment.updateLocale('en', {\r\n    relativeTime : {\r\n        future: \"in %s\",\r\n        past:   \"%s ago\",\r\n        s  : 'a few seconds',\r\n        ss : '%ds',\r\n        m:  \"a minute\",\r\n        mm: \"%dm\",\r\n        h:  \"an hour\",\r\n        hh: \"%dh\",\r\n        d:  \"a day\",\r\n        dd: \"%dd\",\r\n        w:  \"a week\",\r\n        ww: \"%dw\",\r\n        M:  \"a month\",\r\n        MM: \"%dmo\",\r\n        y:  \"a year\",\r\n        yy: \"%dy\"\r\n    }\r\n});\r\n\r\nthemeswitcherToggle.addEventListener(\"click\", () => {\r\n    const theme = document.documentElement.getAttribute(\"data-color-mode\");\r\n    if (theme === \"light\") {\r\n        document.documentElement.setAttribute(\"data-color-mode\", \"dark\");\r\n        localStorage.setItem(\"color-mode\", \"dark\");\r\n        themeswitcherToggle.classList.add(\"dark\");\r\n    } else {\r\n        document.documentElement.setAttribute(\"data-color-mode\", \"light\");\r\n        localStorage.setItem(\"color-mode\", \"light\");\r\n        themeswitcherToggle.classList.remove(\"dark\");\r\n    }\r\n});\r\n\r\ndarkThemeMediaQuery.addEventListener(\"change\", ev => {\r\n    if (ev.matches) {\r\n        document.documentElement.setAttribute(\"data-color-mode\", \"dark\");\r\n        themeswitcherToggle.classList.add(\"dark\");\r\n    } else {\r\n        document.documentElement.setAttribute(\"data-color-mode\", \"light\");\r\n        themeswitcherToggle.classList.remove(\"dark\");\r\n    }\r\n});\r\n\r\nthemeswitcherToggle.addEventListener(\"mouseenter\", () => {\r\n     themeswitcherCircle.style.backgroundColor = \"#939BF4\";\r\n});\r\n\r\nthemeswitcherToggle.addEventListener(\"mouseleave\", () => {\r\n    themeswitcherCircle.style.backgroundColor = \"#5964E0\";\r\n});\r\n\r\nthemeswitcherToggle.addEventListener(\"focus\", () => {\r\n    themeswitcherCircle.style.backgroundColor = \"#939BF4\";\r\n});\r\n\r\nthemeswitcherToggle.addEventListener(\"blur\", () => {\r\n    themeswitcherCircle.style.backgroundColor = \"#5964e0\";\r\n});\r\n\r\nloadMoreButton.addEventListener(\"click\", (ev) => {\r\n    apiGetJobs(\r\n        response => {\r\n            response.jobs.sort((a, b) => b - a).forEach(job => addJob(job));\r\n            if (response.total <= document.querySelectorAll(\"article\").length) {\r\n                loadMoreButton.remove();\r\n                const noMoreJobsElement = document.createElement(\"p\");\r\n                noMoreJobsElement.textContent = \"There are no more job offers.\";\r\n                loadMore.appendChild(noMoreJobsElement);\r\n            }\r\n        },\r\n        document.querySelectorAll(\"article\").length\r\n    );\r\n});\r\n\r\nconst addJob = data => {\r\n    const {company, contract, id, location, logo, logoBackground, position, postedAt} = data;\r\n\r\n    // The whole job card\r\n    const jobElement = document.createElement(\"article\");\r\n    jobElement.className = \"card\";\r\n\r\n    // Logo frame\r\n    const jobLogoFrame = document.createElement(\"div\");\r\n    jobLogoFrame.className = \"card__logo\";\r\n    jobLogoFrame.style.backgroundColor = logoBackground;\r\n\r\n    // Logo image\r\n    const jobLogoImage = document.createElement(\"img\");\r\n    jobLogoImage.setAttribute(\"src\", `${API_URL}/${logo}`);\r\n    jobLogoImage.setAttribute(\"alt\", `${company} logo`);\r\n    jobLogoImage.setAttribute(\"aria-hidden\", \"true\");\r\n\r\n    // Logo screen reader text\r\n    const jobLogoSRT = document.createElement(\"span\");\r\n    jobLogoSRT.className = \"screen-reader-text\";\r\n    jobLogoSRT.textContent = `${company} logo`;\r\n\r\n    // Appand logo image and logo screen reader text to logo frame\r\n    jobLogoFrame.append(jobLogoImage, jobLogoSRT);\r\n\r\n    // Job card content\r\n    const jobContent = document.createElement(\"div\");\r\n    jobContent.className = \"card__content\";\r\n\r\n    // When what frame: frame for posted at and type of contract\r\n    const jobWhenWhat = document.createElement(\"div\");\r\n    jobWhenWhat.className = \"card__when_what\";\r\n\r\n    // Posted at\r\n    const jobPostedAt = document.createElement(\"div\");\r\n    jobPostedAt.className = \"card__posted-at\";\r\n    jobPostedAt.textContent = moment(postedAt).fromNow();\r\n\r\n    // Dot\r\n    const jobOval = document.createElement(\"div\");\r\n    jobOval.className = \"card__oval\";\r\n\r\n    // Contract\r\n    const jobContract = document.createElement(\"div\");\r\n    jobContract.className = \"card__contract\";\r\n    jobContract.textContent = contract;\r\n\r\n    // Append posted at, dot and contract to jobwhenwhat frame\r\n    jobWhenWhat.append(jobPostedAt, jobOval, jobContract);\r\n\r\n    // Job title: position\r\n    const jobTitle = document.createElement(\"h3\");\r\n    jobTitle.className = \"card__title\";\r\n\r\n    // Job link\r\n    const jobLink = document.createElement(\"a\");\r\n    jobLink.className = \"card__link\";\r\n    jobLink.setAttribute(\"href\", `details.html?id=${id}`);\r\n    jobLink.textContent = position;\r\n\r\n    // Append job link to job title\r\n    jobTitle.appendChild(jobLink);\r\n\r\n    // Company\r\n    const jobCompany = document.createElement(\"div\");\r\n    jobCompany.className = \"card__company\";\r\n    jobCompany.textContent = company;\r\n\r\n    // Location\r\n    const jobLocation = document.createElement(\"h4\");\r\n    jobLocation.className = \"card__location\";\r\n    jobLocation.textContent = location;\r\n\r\n    // Append whenwhat, title, company, location to content\r\n    jobContent.append(jobWhenWhat, jobTitle, jobCompany, jobLocation);\r\n\r\n    // Append job logo frame and job content to job card\r\n    jobElement.append(jobLogoFrame, jobContent);\r\n\r\n    // Append job element to card list\r\n    cardList.appendChild(jobElement);\r\n};"],"names":["themeswitcherToggle","document","querySelector","themeswitcherCircle","titleInput","labelFullTime","modalLabelFullTime","funnelIcon","modal","modalBackground","searchbarForm","desktopMediaQuery","window","matchMedia","noDesktopMediaQuery","darkThemeMediaQuery","cardList","loadMoreButton","loadMore","moment","updateLocale","relativeTime","future","past","s","ss","m","mm","h","hh","d","dd","w","ww","M","MM","y","yy","addEventListener","documentElement","getAttribute","setAttribute","localStorage","setItem","classList","add","remove","ev","matches","style","backgroundColor","apiGetJobs","response","jobs","sort","a","b","forEach","job","addJob","total","querySelectorAll","length","noMoreJobsElement","createElement","textContent","appendChild","data","company","contract","id","location","logo","logoBackground","position","postedAt","jobElement","className","jobLogoFrame","jobLogoImage","concat","API_URL","jobLogoSRT","append","jobContent","jobWhenWhat","jobPostedAt","fromNow","jobOval","jobContract","jobTitle","jobLink","jobCompany","jobLocation"],"version":3,"file":"index.9ab3943f.js.map"}