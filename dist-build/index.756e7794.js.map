{"mappings":"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","sources":["src/js/index_dom.js"],"sourcesContent":["const cardList = document.querySelector(\".card_list\");\r\nconst loadMoreButton = document.querySelector(\".load-more button\");\r\nconst loadMore = document.querySelector(\".load-more\");\r\nconst noMoreJobsElement = document.querySelector(\".load-more p\");\r\n\r\nconst getJobs = () => {\r\n    const text = document.querySelector(\"#title_input\").value;\r\n    let location;\r\n    let fulltime;\r\n    if (modal.classList.contains(\"modal__show\")) {\r\n        location = document.querySelector(\"#modal_location_input\").value;\r\n        fulltime = document.querySelector(\"#modal_full_time\").checked ? 1 : 0;\r\n        modal.classList.remove(\"modal__show\");\r\n    } else {\r\n        location = document.querySelector(\"#location_input\").value;\r\n        fulltime = document.querySelector(\"#full_time\").checked ? 1 : 0;\r\n    }\r\n    document.querySelector(\"#loading-list\").style.display = \"block\";\r\n    const searchbarFormFields = searchbarForm.querySelectorAll(\"input, button\");\r\n    searchbarFormFields.forEach(field => field.disabled = true);\r\n    apiGetJobs(\r\n        response => {\r\n            response.jobs.sort((a, b) => b.postedAt - a.postedAt).forEach(job => addJob(job));\r\n            searchbarFormFields.forEach(field => field.disabled = false);\r\n            document.querySelector(\"#loading-list\").style.display = \"none\";\r\n            if (response.total <= document.querySelectorAll(\"article\").length) {\r\n                loadMoreButton.style.display = \"none\";\r\n                noMoreJobsElement.style.display = \"block\";\r\n            }\r\n        },\r\n        errorMessage => {\r\n            alert(errorMessage);\r\n            searchbarFormFields.forEach(field => field.disabled = false);\r\n        },\r\n        document.querySelectorAll(\"article\").length,\r\n        text,\r\n        location,\r\n        fulltime\r\n    );\r\n};\r\n\r\nloadMoreButton.addEventListener(\"click\", getJobs);\r\n\r\nconst addJob = data => {\r\n    const {company, contract, id, location, logo, logoBackground, position, postedAt} = data;\r\n\r\n    // The whole job card\r\n    const jobElement = document.createElement(\"article\");\r\n    jobElement.className = \"card\";\r\n\r\n    // Logo frame\r\n    const jobLogoFrame = document.createElement(\"div\");\r\n    jobLogoFrame.className = \"card__logo\";\r\n    jobLogoFrame.style.backgroundColor = logoBackground;\r\n\r\n    // Logo image\r\n    const jobLogoImage = document.createElement(\"img\");\r\n    jobLogoImage.setAttribute(\"src\", `${API_URL}/${logo}`);\r\n    jobLogoImage.setAttribute(\"alt\", `${company} logo`);\r\n    jobLogoImage.setAttribute(\"aria-hidden\", \"true\");\r\n\r\n    // Logo screen reader text\r\n    const jobLogoSRT = document.createElement(\"span\");\r\n    jobLogoSRT.className = \"screen-reader-text\";\r\n    jobLogoSRT.textContent = `${company} logo`;\r\n\r\n    // Append logo image and logo screen reader text to logo frame\r\n    jobLogoFrame.append(jobLogoImage, jobLogoSRT);\r\n\r\n    // Job card content\r\n    const jobContent = document.createElement(\"div\");\r\n    jobContent.className = \"card__content\";\r\n\r\n    // When what frame: frame for posted at and type of contract\r\n    const jobWhenWhat = document.createElement(\"div\");\r\n    jobWhenWhat.className = \"card__when_what\";\r\n\r\n    // Posted at\r\n    const jobPostedAt = document.createElement(\"div\");\r\n    jobPostedAt.className = \"card__posted-at\";\r\n    jobPostedAt.textContent = moment(postedAt).fromNow();\r\n\r\n    // Dot\r\n    const jobOval = document.createElement(\"div\");\r\n    jobOval.className = \"card__oval\";\r\n\r\n    // Contract\r\n    const jobContract = document.createElement(\"div\");\r\n    jobContract.className = \"card__contract\";\r\n    jobContract.textContent = contract;\r\n\r\n    // Append posted at, dot and contract to jobwhenwhat frame\r\n    jobWhenWhat.append(jobPostedAt, jobOval, jobContract);\r\n\r\n    // Job title: position\r\n    const jobTitle = document.createElement(\"h2\");\r\n    jobTitle.className = \"card__title\";\r\n\r\n    // Job link\r\n    const jobLink = document.createElement(\"a\");\r\n    jobLink.className = \"card__link\";\r\n    jobLink.setAttribute(\"href\", `details.html?id=${id}`);\r\n    jobLink.textContent = position;\r\n\r\n    // Append job link to job title\r\n    jobTitle.appendChild(jobLink);\r\n\r\n    // Company\r\n    const jobCompany = document.createElement(\"div\");\r\n    jobCompany.className = \"card__company\";\r\n    jobCompany.textContent = company;\r\n\r\n    // Location\r\n    const jobLocation = document.createElement(\"h3\");\r\n    jobLocation.className = \"card__location\";\r\n    jobLocation.textContent = location;\r\n\r\n    // Append whenwhat, title, company, location to content\r\n    jobContent.append(jobWhenWhat, jobTitle, jobCompany, jobLocation);\r\n\r\n    // Append job logo frame and job content to job card\r\n    jobElement.append(jobLogoFrame, jobContent);\r\n\r\n    // Append job element to card list\r\n    cardList.appendChild(jobElement);\r\n};"],"names":["cardList","document","querySelector","loadMoreButton","loadMore","noMoreJobsElement","getJobs","location","fulltime","text","value","modal","classList","contains","checked","remove","style","display","searchbarFormFields","searchbarForm","querySelectorAll","forEach","field","disabled","apiGetJobs","response","jobs","sort","a","b","postedAt","job","addJob","total","length","errorMessage","alert","addEventListener","data","company","contract","id","logo","logoBackground","position","jobElement","createElement","className","jobLogoFrame","backgroundColor","jobLogoImage","setAttribute","concat","API_URL","jobLogoSRT","textContent","append","jobContent","jobWhenWhat","jobPostedAt","moment","fromNow","jobOval","jobContract","jobTitle","jobLink","appendChild","jobCompany","jobLocation"],"version":3,"file":"index.756e7794.js.map"}